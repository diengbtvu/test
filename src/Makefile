.PHONY: help build up down restart logs clean

# Default target
help:
	@echo "ğŸšŒ UltraBus Docker Commands"
	@echo "=========================="
	@echo "make up        - Khá»Ÿi Ä‘á»™ng toÃ n bá»™ há»‡ thá»‘ng"
	@echo "make down      - Dá»«ng há»‡ thá»‘ng"
	@echo "make restart   - Khá»Ÿi Ä‘á»™ng láº¡i há»‡ thá»‘ng"
	@echo "make logs      - Xem logs cá»§a táº¥t cáº£ services"
	@echo "make build     - Build láº¡i táº¥t cáº£ images"
	@echo "make clean     - Dá»n dáº¹p containers vÃ  volumes"
	@echo "make status    - Kiá»ƒm tra tráº¡ng thÃ¡i containers"

# Build vÃ  khá»Ÿi Ä‘á»™ng há»‡ thá»‘ng
up:
	@echo "ğŸš€ Khá»Ÿi Ä‘á»™ng há»‡ thá»‘ng UltraBus..."
	docker-compose up --build -d
	@echo "âœ… Há»‡ thá»‘ng Ä‘Ã£ khá»Ÿi Ä‘á»™ng!"
	@echo "ğŸ“± Web: http://localhost:8082"
	@echo "ğŸ”§ Admin: http://localhost:8081"
	@echo "ğŸŒ API: http://localhost:8080"

# Dá»«ng há»‡ thá»‘ng
down:
	@echo "ğŸ›‘ Äang dá»«ng há»‡ thá»‘ng..."
	docker-compose down
	@echo "âœ… Há»‡ thá»‘ng Ä‘Ã£ dá»«ng!"

# Khá»Ÿi Ä‘á»™ng láº¡i
restart: down up

# Xem logs
logs:
	docker-compose logs -f

# Build láº¡i images
build:
	@echo "ğŸ”¨ Äang build láº¡i images..."
	docker-compose build --no-cache
	@echo "âœ… Build hoÃ n thÃ nh!"

# Dá»n dáº¹p
clean:
	@echo "ğŸ§¹ Äang dá»n dáº¹p..."
	docker-compose down -v
	docker system prune -f
	@echo "âœ… Dá»n dáº¹p hoÃ n thÃ nh!"

# Kiá»ƒm tra tráº¡ng thÃ¡i
status:
	@echo "ğŸ“Š Tráº¡ng thÃ¡i containers:"
	docker-compose ps
